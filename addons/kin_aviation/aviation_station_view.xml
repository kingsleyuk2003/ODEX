<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

 <menuitem name="Aviation Station"
            id="menu_aviation_station"
            groups="group_show_aviation"
            sequence="25" web_icon="kin_aviation,static/description/icon.png" />

        <menuitem id="menu_aviation_station_operation" name="Aviation Station Operation" parent="menu_aviation_station" sequence="2" groups="group_aviation_manager,group_aviation_station_management,group_product_received_register_resolution_aviation,group_aviation_officer" />
   <menuitem id="menu_product_received_register_aviation" name="Product Transfers" parent="menu_aviation_station" sequence="1" groups="group_aviation_manager,group_aviation_station_management,group_product_received_register_resolution_aviation,group_aviation_officer" />
<menuitem id="menu_aviation_station_report" name="Report" parent="menu_aviation_station" sequence="4" groups="account.group_account_user,group_aviation_manager,group_aviation_station_management,group_aviation_officer" />
 <menuitem id="menu_aviation_station_configuration" name="Master Data" parent="menu_aviation_station" sequence="5" groups="group_master_date_menu_aviation" />


        <!-- Aviation Stations -->
         <record id="view_kin_aviation_form" model="ir.ui.view" >
            <field name="name" >kin.aviation.station.form</field>
            <field name="model">kin.aviation.station</field>
            <field name="arch" type="xml" >
                <form string="Aviation Station" >
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button type="object"  name="btn_view_stock_location" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_location_count', '=', 0)]}"  groups="account.group_account_user,kin_aviation.group_aviation_manager,stock.group_stock_manager" >
                                <field name="stock_location_count" widget="statinfo" string="Stock Location(s)"/>
                            </button>
                        </div>
                        <group col="4">
                            <field name="name" required="1" />
                             <field name="location_id" />
                            <field name="usage" required="1" />
                            <field name="address" required="1" />
                            <field name="country_id" required="1" />
                            <field name="state_id"  domain="[('country_id','=',country_id)]" required="1" />
                            <field name="aviation_station_manager_id" required="1" />
                            <field name="aviation_officer_ids" widget="many2many_tags" required="1" />
                            <field name="aviation_station_customer_location_id" required="1" />
                            <field name="tank_difference_location_id" required="1" />
                            <field name="bowser_difference_location_id" required="1" />
                             <field name="total_stock_level" />
                            <field name="reorder_level" />
                            <field name="threshold_for_notification" />
                            <field name="asset_id" />
                            <field name="analytical_account_id" />
                            <!--<field name="bank_journal_ids" widget="many2many_tags" />-->
                        </group>
                        <group col="4" string="Quality Control Procedure Range" >
                            <group string="Visual Check" >

                            </group>
                            <group string="Quality Control Check">
                                <field name="density_min" />
                                 <field name="density_max" />
                                 <field name="conductivity_min" />
                                 <field name="conductivity_max" />
                            </group>

                        </group>
                   <notebook>
                       <page string="Branch Companies">
                           <field name="partner_ids" readonly="1" />
                       </page>
                        <page string="Storage Tanks">
                           <field name="tank_ids" readonly="1" />
                       </page>
                        <page string="Aviation Records">
                           <field name="aviation_record_ids" readonly="1" />
                       </page>


                   </notebook>
                    </sheet>
                     <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
         </record>

        <record id="view_kin_aviation_tree" model="ir.ui.view" >
            <field name="name" >kin.aviation.station.tree</field>
            <field name="model">kin.aviation.station</field>
            <field name="arch" type="xml" >
                <tree string="Aviation Station" >
                           <field name="name" />
                            <field name="address" />
                            <field name="country_id" />
                            <field name="state_id" />
                    <!--<field name="pef_zone_id" />-->
                            <!--<field name="receiving_depot_id" />-->
                            <field name="aviation_station_manager_id" />
                    <!--<field name="shift_ids"  />-->
                    <field name="reorder_level" />
                    <field name="total_stock_level" />
                </tree>
            </field>
        </record>

        <record id="view_kin_aviation_filter" model="ir.ui.view">
            <field name="name">kin.aviation.station.select</field>
            <field name="model">kin.aviation.station</field>
            <field name="arch" type="xml">
                <search string="Filter">
                    <field name="name" string="Name"  filter_domain="[('name','ilike',self)]"/>
                    <group expand="0" string="Group By">
                       <!--<filter  string="Receiving Depot" domain="[]" context="{'group_by':'receiving_depot_id'}"/>-->
                        <filter  string="State" domain="[]" context="{'group_by':'state_id'}"/>
                        <filter  string="Country" domain="[]" context="{'group_by':'country_id'}"/>
                         <filter  string="Aviation Station Manager" domain="[]" context="{'group_by':'aviation_station_manager_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_kin_aviation_form" model="ir.actions.act_window" >
            <field name="name" >Aviation Station</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.aviation.station</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_kin_aviation_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create Aviation Station
              </p>
            </field>
        </record>
        <menuitem id="menu_kin_aviation" name="Aviation Station" parent="menu_aviation_station_configuration" sequence="3" action="action_kin_aviation_form"/>


 <!-- Tank Storage -->
         <record id="view_kin_tank_storage_aviation_form" model="ir.ui.view" >
            <field name="name" >kin.tank.storage.aviation.form</field>
            <field name="model">kin.tank.storage.aviation</field>
            <field name="arch" type="xml" >
                <form string="Aviation Tank Storage" >
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button type="object"  name="btn_view_stock_location" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_location_count', '=', 0)]}"  groups="account.group_account_user,kin_aviation.group_aviation_manager,stock.group_stock_manager" >
                                <field name="stock_location_count" widget="statinfo" string="Stock Location(s)"/>
                            </button>
                        </div>
                        <group col="4">
                            <field name="name" required="1" />
                              <field name="location_id" />
                            <field name="usage" required="1" />
                            <field name="aviation_station_id" required="1" />
                            <field name="product_id" required="1" domain="[('white_product_aviation','=','atk')]" />
                            <field name="product_uom" required="1" />
                            <field name="capacity" required="1" />
                            <field name="stock_level"  readonly="1" />
                             <field name="available_space" />
                             <field name="current_stock_received" readonly="1"  />
                            <field name="current_int_transfer_in" readonly="1"  />
                            <field name="current_int_transfer_out" readonly="1"  />
                            <field name="current_closing_stock" readonly="1"  />
                             <field name="minimum_stock_level"  />
                            <field name="remark" />
                            <field name="asset_id" />
                        </group>
                   <notebook>
                       <page string="Pumps">
                           <field name="pump_ids" readonly="1" />
                       </page>
                       <page>
                           <field name="prr_line_ids" readonly="1" />
                       </page>
                   </notebook>
                    </sheet>
                </form>
            </field>
         </record>

        <record id="view_kin_tank_storage_aviation_tree" model="ir.ui.view" >
            <field name="name" >kin.tank.storage.aviation.tree</field>
            <field name="model">kin.tank.storage.aviation</field>
            <field name="arch" type="xml" >
                <tree string="Tank Storage" >
                     <field name="name"  />
                            <field name="aviation_station_id" />
                            <field name="product_id"  />
                            <field name="product_uom"  />
                           <field name="capacity" sum="Total"  />
                             <field name="available_space"  sum="Total" />
                             <field name="current_stock_received"   sum="Total"   />
                            <field name="current_int_transfer_in"  sum="Total"   />
                            <field name="current_int_transfer_out"   sum="Total"  />
                            <field name="stock_level"  sum="Total"   />
                            <field name="current_closing_stock"   sum="Total"   />
                            <field name="remark" />
                </tree>
            </field>
        </record>

        <record id="view_kin_tank_storage_aviation_filter" model="ir.ui.view">
            <field name="name">kin.tank.storage.aviation.select</field>
            <field name="model">kin.tank.storage.aviation</field>
            <field name="arch" type="xml">
                <search string="Tank Storage Filter">
                    <field name="name" string="Number / Aviation Station"  filter_domain="['|',('name','ilike',self),('aviation_station_id','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter name="grpRS" string="Aviation Station" domain="[]" context="{'group_by':'aviation_station_id'}"/>
                        <filter  string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_kin_tank_storage_aviation_form" model="ir.actions.act_window" >
            <field name="name" >Tank Storage</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.tank.storage.aviation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_kin_tank_storage_aviation_filter"/>
            <field name="context">{'search_default_grpRS': 1}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create Tank Storage
              </p>
            </field>
        </record>
        <menuitem id="menu_kin_tank_storage_aviation" name="Tank Storage" parent="menu_aviation_station_configuration" sequence="4" action="action_kin_tank_storage_aviation_form"/>

        <!-- Bowser Refueller -->
        <record id="view_kin_refueller_bowser_form" model="ir.ui.view" >
            <field name="name" >kin.refueller.bowser.form</field>
            <field name="model">kin.refueller.bowser</field>
            <field name="arch" type="xml" >
                <form string="Aviation Tank Storage" >
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button type="object"  name="btn_view_stock_location" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_location_count', '=', 0)]}"  groups="account.group_account_user,kin_aviation.group_aviation_manager,stock.group_stock_manager" >
                                <field name="stock_location_count" widget="statinfo" string="Stock Location(s)"/>
                            </button>
                        </div>
                        <group col="4">
                            <field name="name" required="1" />
                              <field name="location_id" />
                            <field name="usage" required="1" />
                            <field name="aviation_station_id" required="1" />
                            <field name="product_id" required="1" domain="[('white_product_aviation','=','atk')]" />
                            <field name="product_uom" required="1" />
                            <field name="capacity" required="1" />
                            <field name="stock_level"  readonly="1" />
                             <field name="available_space" />
                             <field name="current_stock_received" readonly="1"  />
                            <field name="current_int_transfer_in" readonly="1"  />
                            <field name="current_int_transfer_out" readonly="1"  />
                            <field name="current_closing_stock" readonly="1"  />
                             <field name="minimum_stock_level"  />
                            <field name="remark" />
                            <field name="asset_id" />
                        </group>
                   <notebook>
                       <page string="Pumps">
                           <field name="pump_ids" readonly="1" />
                       </page>
                   </notebook>
                    </sheet>
                </form>
            </field>
         </record>

        <record id="view_kin_refueller_bowser_tree" model="ir.ui.view" >
            <field name="name" >kin.refueller.bowser.tree</field>
            <field name="model">kin.refueller.bowser</field>
            <field name="arch" type="xml" >
                <tree string="Tank Storage" >
                     <field name="name"  />
                            <field name="aviation_station_id" />
                            <field name="product_id"  />
                            <field name="product_uom"  />
                            <field name="capacity" sum="Total"  />
                             <field name="available_space"  sum="Total" />
                             <field name="current_stock_received"   sum="Total"   />
                            <field name="current_int_transfer_in"  sum="Total"   />
                            <field name="current_int_transfer_out"   sum="Total"  />
                    <field name="stock_level"  sum="Total"   />
                    <field name="current_closing_stock"   sum="Total"   />
                             <field name="remark" />
                </tree>
            </field>
        </record>

        <record id="view_kin_refueller_bowser_filter" model="ir.ui.view">
            <field name="name">kin.refueller.bowser.select</field>
            <field name="model">kin.refueller.bowser</field>
            <field name="arch" type="xml">
                <search string="Refueller Filter">
                    <field name="name" string="Number / Aviation Station"  filter_domain="['|',('name','ilike',self),('aviation_station_id','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter name="grpRS" string="Aviation Station" domain="[]" context="{'group_by':'aviation_station_id'}"/>
                        <filter  string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_kin_refueller_bowser_form" model="ir.actions.act_window" >
            <field name="name" >Refueller</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.refueller.bowser</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_kin_refueller_bowser_filter"/>
            <field name="context">{'search_default_grpRS': 1}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create Refueller
              </p>
            </field>
        </record>
        <menuitem id="menu_kin_refueller_bowser" name="Refueller (Bowser)" parent="menu_aviation_station_configuration" sequence="4" action="action_kin_refueller_bowser_form"/>



        <!-- Fuel Pump Aviation -->
         <record id="view_kin_fuel_pump_aviation_form" model="ir.ui.view" >
            <field name="name" >kin.fuel.pump.aviation.form</field>
            <field name="model">kin.fuel.pump.aviation</field>
            <field name="arch" type="xml" >
                <form string="Fuel Pump" >
                     <header>
                    <button name="%(action_change_totalizer_pump)d"  string="Change Totalizer Value"   type="action" groups="kin_aviation.group_change_totalizer_value_aviation" />
                </header>
                    <sheet>
                        <group col="4">
                               <field name="name"  />
                            <field name="product_id" />
                            <field name="product_uom" />
                            <field name="price" readonly="1" />
                            <field name="pump_type" required="1" widget="radio" />
                            <field name="tank_ids"  widget="many2many_tags"  attrs="{'invisible': [('pump_type', 'not in', ['is_discharging_pump','is_loading_pump'])]}"   />
                             <field name="bowser_ids"  widget="many2many_tags" attrs="{'invisible': [('pump_type', 'not in', ['is_bowser_loading_pump'])]}"  />
                            <field name="aviation_station_id"  readonly="1"  />
                            <field name="totalizer" required="1"  readonly="1" />
                            <field name="previous_totalizer" readonly="1"  />
                            <field name="asset_id" />
                        </group>
                         <notebook>
                         <page string="Pump Price History" >
                            <field name="pump_price_history_ids"  readonly="1"   >
                                    <tree>
                                        <field name="product_id" />
                                        <field name="uom_id" />
                                        <field name="new_price" />
                                        <field name="user_id" />
                                        <field name="date_change" />
                                        <field name="previous_price" />
                                    </tree>
                            </field>
                        </page>
                              <page  string="Pump Meter Totalizer Value History" >
                             <field name="pump_totalizer_history_ids"  readonly="1"   >
                                    <tree>
                                        <field name="product_id" />
                                        <field name="uom_id" />
                                        <field name="new_totalizer" />
                                        <field name="user_id" />
                                        <field name="date_change" />
                                        <field name="previous_totalizer" />
                                    </tree>
                            </field>
                        </page>
                    </notebook>

                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
         </record>

        <record id="view_kin_fuel_pump_aviation_tree" model="ir.ui.view" >
            <field name="name" >kin.fuel.pump.aviation.tree</field>
            <field name="model">kin.fuel.pump.aviation</field>
            <field name="arch" type="xml" >
                <tree string="Fuel Pump Table" >
                     <field name="name"  />
                     <field name="tank_ids" />
                    <field name="aviation_station_id" />
                    <field name="totalizer"   />
                </tree>
            </field>
        </record>

        <record id="view_kin_fuel_pump_aviation_filter" model="ir.ui.view">
            <field name="name">kin.fuel.pump.aviation.select</field>
            <field name="model">kin.fuel.pump.aviation</field>
            <field name="arch" type="xml">
                <search string="Fuel Pump Filter">
                    <field name="name" string="ID / Aviation Station"  filter_domain="['|',('name','ilike',self),('aviation_station_id','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter name="grpRS" string="Aviation Station" domain="[]" context="{'group_by':'aviation_station_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_kin_fuel_pump_aviation_form" model="ir.actions.act_window" >
            <field name="name" >Fuel Pump</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.fuel.pump.aviation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_grpRS': 1}</field>
            <field name="search_view_id" ref="view_kin_fuel_pump_aviation_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create Fuel Pump
              </p>
            </field>
        </record>
        <menuitem id="menu_kin_fuel_pump_aviation" name="Fuel Pump" parent="menu_aviation_station_configuration" sequence="5" action="action_kin_fuel_pump_aviation_form"/>


         <!-- Fuel Pump Price History -->
        <record model="ir.ui.view" id="pump_price_history_aviation_tree_view"  >
            <field name="name" >kin.fuel.pump.history.aviation</field>
            <field name="model" >kin.fuel.pump.history.aviation</field>
            <field name="arch" type="xml">
                <tree string="Pump Price History" create="0" delete="0" >
                    <field name="product_id" />
                    <field name="uom_id" />
                    <field name="new_price" />
                    <field name="user_id" />
                    <field name="date_change" />
                    <field name="previous_price" />
                    <field name="fuel_pump_id" />
                    <field name="aviation_station_id" />
                </tree>
            </field>
        </record>

        <record id="view_pump_sale_price_aviation_filter" model="ir.ui.view">
            <field name="name">Pump Sale Price History Search</field>
            <field name="model">kin.fuel.pump.history.aviation</field>
            <field name="arch" type="xml">
                <search string="Pump Sale Price History Search">
                    <field name="product_id" />
                    <field name="aviation_station_id" />
                    <field name="new_price" />
                    <field name="date_change" />
                     <separator/>
                    <group expand="0" string="Group By">
                        <filter name="groupby_rst" string="Aviation Station" domain="[]" context="{'group_by':'aviation_station_id'}"/>
                        <filter name="groupby_product" string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                        <filter name="groupby_user" string="User" domain="[]" context="{'group_by':'user_id'}"/>
                         <filter name="groupby_fuelpump" string="Fuel Pump" domain="[]" context="{'group_by':'fuel_pump_id'}"/>
                    </group>
                </search>
            </field>
        </record>

          <record id="action_pump_price_history_aviation" model="ir.actions.act_window">
            <field name="name">Pump Sale Price History</field>
            <field name="res_model">kin.fuel.pump.history.aviation</field>
            <field name="context">{'search_default_groupby_product': 1,'search_default_groupby_rst': 1}</field>
            <field name="view_type" >form</field>
            <field name="view_mode">tree,pivot</field>
            <field name="view_id" ref="pump_price_history_aviation_tree_view"/>
             <field name="search_view_id" ref="view_pump_sale_price_aviation_filter"/>
        </record>

     <menuitem id="menu_pump_price_history_aviation" name="Pump Price History"  action="action_pump_price_history_aviation" parent="menu_aviation_station_report" groups="kin_aviation.group_change_price_aviation"    sequence="31"/>


                 <!-- Fuel Pump Meter Totalizer History -->
        <record model="ir.ui.view" id="pump_totalizer_history_tree_view"  >
            <field name="name" >kin.fuel.totalizer.history.aviation</field>
            <field name="model" >kin.fuel.totalizer.history.aviation</field>
            <field name="arch" type="xml">
                <tree string="Pump Meter Totalizer History" create="0" delete="0" >
                    <field name="product_id" />
                    <field name="uom_id" />
                    <field name="new_totalizer" />
                    <field name="user_id" />
                    <field name="date_change" />
                    <field name="previous_totalizer" />
                    <field name="fuel_pump_id" />
                    <field name="aviation_station_id" />
                </tree>
            </field>
        </record>

        <record id="view_pump_totalizer_filter" model="ir.ui.view">
            <field name="name">Pump Meter Sale Totalizer Value History Search</field>
            <field name="model">kin.fuel.totalizer.history.aviation</field>
            <field name="arch" type="xml">
                <search string="Pump Meter Totalizer Value History Search">
                    <field name="product_id" />
                    <field name="aviation_station_id" />
                    <field name="new_totalizer" />
                    <field name="date_change" />
                     <separator/>
                    <group expand="0" string="Group By">
                        <filter name="groupby_ast" string="Aviation Station" domain="[]" context="{'group_by':'aviation_station_id'}"/>
                        <filter name="groupby_product" string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                        <filter name="groupby_user" string="User" domain="[]" context="{'group_by':'user_id'}"/>
                         <filter name="groupby_fuelpump" string="Fuel Pump Meter" domain="[]" context="{'group_by':'fuel_pump_id'}"/>
                    </group>
                </search>
            </field>
        </record>

          <record id="action_pump_totalizer_history" model="ir.actions.act_window">
            <field name="name">Pump Meter Sale Totalizer Value History</field>
            <field name="res_model">kin.fuel.totalizer.history.aviation</field>
            <field name="context">{'search_default_groupby_product': 1,'search_default_groupby_ast': 1}</field>
            <field name="view_type" >form</field>
            <field name="view_mode">tree,pivot</field>
            <field name="view_id" ref="pump_totalizer_history_tree_view"/>
             <field name="search_view_id" ref="view_pump_totalizer_filter"/>
        </record>

     <menuitem id="menu_pump_totalizer_history" name="Pump Meter Totalizer Value History"  action="action_pump_totalizer_history" parent="menu_aviation_station_report" groups="kin_aviation.group_change_totalizer_value_aviation"    sequence="32"/>



<!-- Aviation Operation Record -->
         <record id="view_aviation_record_form" model="ir.ui.view">
            <field name="name">kin.aviation.record.form</field>
            <field name="model">kin.aviation.record</field>
            <field name="arch" type="xml">
                <form string="Aviation Operation Record">
                <header>
                    <button name="action_confirm" states="draft" type="object" class="oe_highlight"  string="Confirm and Notify Management" confirm="You are about to Confirm this stock control and send email notification to the responsible persons. If you have not finished entering the required information, please click 'Cancel' button, otherwise click 'Ok' button" />
                    <button name="action_approve" states="confirm" type="object" class="oe_highlight"  string="Approve"  confirm="Are you sure you want to approve the aviation operation records?" groups="kin_aviation.group_aviation_station_management" />
                    <button name="%(action_aviation_record_disapproval_reason)d"  states="confirm" type="action"   string="Dis-Approve"  groups="kin_aviation.group_aviation_station_management" />
                     <button name="action_cancel" states="confirm" type="object" string="Cancel"/>
                    <button name="action_cancel_approver" states="approve,open," type="object" string="Cancel" groups="kin_aviation.group_aviation_station_management" />
                    <button name="action_draft" states="cancel" type="object" string="Set to Draft" />
                    <field name="state"  widget="statusbar" statusbar_visible="draft,confirm,approve,open,done"/>
                </header>                <sheet>
                    <div class="oe_button_box" name="button_box">
                              <button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                            </button>
                    </div>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>

                    <group>
                        <group col="4">
                            <field name="aviation_station_id" required="1" domain="[('aviation_officer_ids', '=', uid)]"  attrs="{'readonly': [('state', '!=', 'draft')]}"    options="{'no_open':True,'no_create':True}"   />
                            <field name="aviation_record_date"  required="1"  attrs="{'readonly': [('state', '!=', 'draft')]}" />
                            <field name="aviation_station_manager_id"  required="1"  readonly="1" />
                            <field name="create_date" readonly="1" />
                        </group>

                    </group>
                    <notebook>
                        <page string="Tank Dippings">
                            <field name="tank_record_ids"  attrs="{'readonly': [('state', '!=', 'draft')]}" >
                                <tree string="Tank Dippings" editable="bottom" create="false" delete="false" >
                                     <field name="tank_id" readonly="1" required="1" domain="[('aviation_station_id','=',parent.aviation_station_id)]" options="{'no_open':True,'no_create':True}"  />
                                    <field name="product_id" readonly="1"  />
                                    <field name="product_uom" readonly="1"  />
                                    <field name="tank_opening_dip" readonly="1"  />
                                    <field name="stock_received" readonly="1" />
                                    <field name="current_int_transfer_in" readonly="1"  />
                                    <field name="current_int_transfer_out" readonly="1"  />
                                    <field name="stock_at_hand" />
                                    <field name="tank_closing_dip" />
                                    <field name="tank_difference" />
                                </tree>
                            </field>
                        </page>
                        <page string="Refueller Dippings">
                            <field name="refueller_loading_record_ids"   attrs="{'readonly': [('state', '!=', 'draft')]}" >
                                <tree string="Refueller Loading Records" editable="bottom" create="false" delete="false" >
                                     <field name="refueller_id" readonly="1" />
                                    <field name="product_id" readonly="1"   />
                                    <field name="product_uom" readonly="1"   />
                                    <field name="refueller_opening_dip" readonly="1" />
                                     <field name="stock_received" readonly="1" />
                                    <field name="current_int_transfer_in" readonly="1"  />
                                    <field name="current_int_transfer_out" readonly="1"  />
                                    <field name="stock_at_hand" />
                                    <field name="refueller_closing_dip" />
                                    <field name="refueller_difference" />
                                </tree>
                            </field>
                        </page>
                        <page string="Loading Meter Records">
                            <field name="loading_record_ids"  >
                                <tree string="Loading Records" editable="bottom"  create="false" delete="false" edit="false" >
                                     <field name="pump_id"  readonly="1"  />
                                    <field name="product_id" readonly="1"  />
                                    <field name="product_uom" readonly="1"  />
                                    <field name="loading_operator_id"  />
                                    <field name="loading_opening_meter" readonly="1" />
                                    <field name="loading_closing_meter" />
                                    <field name="loading_difference" />
                                </tree>
                            </field>
                        </page>
                        <page string="Fuel Delivery Receipts">
                            <field name="fuel_delivery_receipt_ids"  >
                                <tree string="Fuel Delivery Receipts" editable="bottom"  create="false" delete="false" edit="false" >
                                    <field name="delivery_attendant_id" />
                                    <field name="from_tank_storage_id" />
                                    <field name="pump_id" />
                                    <field name="receipt_date" />
                                    <field name="customer_id" />
                                    <field name="product_id" domain="[('white_product_aviation','=','atk')]"  />
                                    <field name="product_uom"  readonly="1" />
                                    <field name="product_price" />
                                    <field name="opening_meter" />
                                    <field name="closing_meter" />
                                    <field name="volume_sold" />
                                    <!--<field name="sale_qty" />-->
                                    <field name="price_subtotal" />
                                </tree>
                            </field>
                        </page>
                        <page string="Disapproval Info.">
                            <group col="4" >
                                <field name="reason_disapprove" readonly="1" />
                                <field name="disapprove_id" readonly="1" />
                                <field name="disapprove_date" readonly="1" />
                            </group>
                        </page>
                    </notebook>
                    <group col="4"  >
                          <group string="Summary"  col="2" >
                              <field name="total_tank_diff"  />
                              <field name="total_meter_diff"  />
                              <field name="total_bowser_diff"  />
                              <field name="total_receipt_diff" />
                              <button name="button_dummy" states="draft" string="(update fields)" type="object" class="oe_edit_only oe_link"/>
                          </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
            </field>
        </record>

        <record id="view_kin_aviation_record_tree" model="ir.ui.view" >
            <field name="name" >kin.aviation.record.tree</field>
            <field name="model">kin.aviation.record</field>
            <field name="arch" type="xml" >
                <tree string="Pump Sales and Stock Control Record" >
                    <field name="name" />
                    <field name="aviation_station_id"  />
                    <field name="aviation_station_manager_id" />
                    <field name="aviation_record_date"  />
                    <field name="state"  />
                </tree>
            </field>
        </record>

         <record model="ir.ui.view" id="view_kin_aviation_record_pivot_view">
            <field name="name">Stock Control Pivot</field>
            <field name="model">kin.aviation.record</field>
            <field name="arch" type="xml">
                <pivot string="Stock Control Pivot">
                    <field name="aviation_station_id" type="row"/>
                                    <!--<field name="total_sales" type="measure" />-->
                </pivot>
            </field>
        </record>

        <record model="ir.ui.view" id="view_kin_aviation_record_graph_view">
            <field name="name">Stock Control Graph</field>
            <field name="model">kin.aviation.record</field>
            <field name="arch" type="xml">
                <graph string="Stock Control Graph" type="bar">
                    <field name="aviation_station_id" type="row"/>
                    <field name="aviation_record_date" type="col"  />
                </graph>
            </field>
        </record>

        <record id="view_kin_aviation_record_filter" model="ir.ui.view">
            <field name="name">kin.aviation.record.select</field>
            <field name="model">kin.aviation.record</field>
            <field name="arch" type="xml">
                <search string="Stock Control Record">
                    <field name="name" string="ID / Aviation Station"  filter_domain="['|',('name','ilike',self),('aviation_station_id','ilike',self)]"/>
                    <group expand="0" string="Group By">
                       <filter name="grpRS"  string="Aviation Station" domain="[]" context="{'group_by':'aviation_station_id'}"/>
                        <filter name="grpdate" string="Date" domain="[]" context="{'group_by':'aviation_record_date'}"/>
                        <filter name="grpState" string="Status" domain="[]" context="{'group_by':'state'}"/>
                        <filter string="Aviation Station Manager" domain="[]" context="{'group_by':'aviation_station_manager_id'}"/>

                    </group>
                </search>
            </field>
        </record>

        <record id="action_kin_aviation_record_form" model="ir.actions.act_window" >
            <field name="name" >Aviation Operation Records</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.aviation.record</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot,graph</field>
            <!--<field name="context">{'search_default_grpdate': 1,'search_default_grpRS':1,'search_default_grpState':1}</field>-->
            <field name="search_view_id" ref="view_kin_aviation_record_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a Aviation Operation Records
              </p>
            </field>
        </record>
        <menuitem id="menu_sales_aviation_record" name="Aviation Operation Records" parent="menu_aviation_station_operation" sequence="4" action="action_kin_aviation_record_form" groups="kin_aviation.group_aviation_manager,kin_aviation.group_aviation_station_management"  />




 <!-- Product Received Register -->
        <!--<record id="view_product_received_register_aviation_form" model="ir.ui.view" >-->
            <!--<field name="name" >product.received.register.aviation.form</field>-->
            <!--<field name="model">product.received.register.aviation</field>-->
            <!--<field name="arch" type="xml" >-->
                <!--<form string="Product Received Register" >-->
                    <!--<header>-->
                        <!--<button name="action_transit" class="oe_highlight" states="draft" type="object" string="In Transit"  />-->
                        <!--<button name="%(action_change_destination)d" type="action"   states="draft,transit" string="Change Destination"  groups="kin_aviation.group_change_destination_aviation_aviation"/>-->
                        <!--<button name="action_confirm" type="object" states="transit" string="Validate and Update Stock" groups="kin_aviation.group_aviation_manager" class="oe_highlight" confirm="You are about to validate that the following product received with the stated quantity. If you have not finished entering the required information, please click 'Cancel' button, otherwise click 'Ok' button" />-->
                        <!--<button name="action_cancel" states="draft,transit" type="object" string="Cancel" confirm="Are you sure you want to Cancel the document?"/>-->
                        <!--&lt;!&ndash;<button name="action_cancel_reverse_qty" states="validate,resolved" type="object" string="Cancel" confirm="Are you sure you want to Cancel the document?"/>&ndash;&gt;-->
                        <!--<button name="action_draft" states="cancel" type="object" string="Reset to Draft"  />-->
                        <!--<field name="state" widget="statusbar"  />-->
                    <!--</header>-->
                    <!--<sheet>-->
                        <!--<div class="oe_button_box" name="button_box">-->
                            <!--<button name="action_view_loading_ticket" groups="account.group_account_user,stock.group_stock_manager"-->
                                <!--type="object"-->
                                <!--class="oe_stat_button"-->
                                <!--icon="fa-pencil-square-o"-->
                                <!--attrs="{'invisible': [('lt_count', '=', 0)]}" >-->
                                <!--<field  name="lt_count" widget="statinfo" string="Loading Ticket"   />-->
                            <!--</button>-->
                            <!--<button type="object"  name="btn_view_jnr" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('jnr_count', '=', 0)]}"  groups="account.group_account_user" >-->
                                <!--<field name="jnr_count" widget="statinfo" string="Journal Entries"/>-->
                            <!--</button>-->
                            <!--<button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >-->
                                <!--<field name="stock_move_count" widget="statinfo" string="Stock Moves"/>-->
                            <!--</button>-->
                        <!--</div>-->
                        <!--<div class="oe_title">-->
                            <!--<h1>-->
                                <!--<field name="name" readonly="1" />-->
                            <!--</h1>-->
                        <!--</div>-->

                        <!--<notebook>-->
                            <!--<page string="Truck Inspection Checks">-->
                                <!--<group>-->
                                    <!--<field name="date_time_arrival" />-->
                                    <!--<field name="check_date" />-->
                                    <!--<field name="is_tractor_cabin" />-->
                                    <!--<field name="is_ppes" />-->
                                    <!--<field name="is_spark_arrestor" />-->
                                    <!--<field name="is_seal_intact" />-->
                                    <!--<field name="is_tyre_condition_extra_type" />-->
                                    <!--<field name="is_fire_extinguisher" />-->
                                    <!--<field name="is_amber_light" />-->
                                    <!--<field name="is_truck_dedicated" />-->
                                    <!--<field name="is_truck_epoxycoated" />-->
                                    <!--<field name="is_reverse_alarm" />-->
                                    <!--<field name="note_security" />-->
                                    <!--<field name="note_safety" />-->
                                    <!--<field name="note_depot" />-->
                                <!--</group>-->
                            <!--</page>-->
                            <!--<page string="Visual Check" >-->
                                <!--<group>-->
                                    <!--<field name="is_appearance" required="1" />-->
                                    <!--<field name="temp" required="1"/>-->
                                    <!--<field name="density"  required="1" />-->
                                    <!--<field name="conductivity"  required="1" />-->
                                    <!--<field name="qhsse_remark" />-->
                                <!--</group>-->
                            <!--</page>-->
                             <!--<page string="Quality Control Check" >-->
                                <!--<group>-->
                                    <!--<field name="is_appearance" required="1" />-->
                                    <!--<field name="temp" required="1"/>-->
                                    <!--<field name="density"  required="1" />-->
                                    <!--<field name="conductivity"  required="1" />-->
                                    <!--<field name="qhsse_remark" />-->
                                <!--</group>-->
                            <!--</page>-->
                            <!--<page string="Product Discharged to Tanks (Dip)">-->
                                <!--<field name="prr_line_ids" >-->
                                    <!--<tree string="PRA" editable="bottom" >-->
                                        <!--<field name="tank_id" required="1" domain="[('aviation_station_id','=',parent.to_stock_location_id)]"  options="{'no_open':True,'no_create':True}"  />-->
                                        <!--<field name="tank_capacity" readonly="1"  />-->
                                        <!--<field name="product_id"  readonly="1" />-->
                                        <!--<field name="product_uom" readonly="1" />-->
                                        <!--<field name="current_stock_level" readonly="1" />-->
                                        <!--<field name="available_capacity" />-->
                                        <!--<field name="product_allocation" required="1" />-->
                                    <!--</tree>-->
                                <!--</field>-->
                            <!--</page>-->
                            <!--<page string="Other Information">-->
                                <!--<group col="6">-->
                                     <!--<field name="qty_discrepancy" />-->
                                    <!--<field name="qty_discharged" />-->
                                    <!--<field name="discharged_discrepancy_qty" />-->
                                     <!--<field name="amt_discrepancy"   />-->
                                     <!--<field name="amt_discharged" />-->
                                    <!--<field name="discharged_discrepancy_amt" />-->
                                <!--</group>-->
                            <!--</page>-->
                        <!--</notebook>-->

                        <!--<group col="4">-->
                            <!--<field name="loading_date" readonly="1" />-->
                            <!--<field name="receiving_date"  />-->
                            <!--<field name="truck_no"  />-->
                            <!--<field name="waybill_no"  />-->
                            <!--<field name="driver_name" attrs="{'readonly': [('state', '!=', 'draft')]}" />-->
                            <!--<field name="driver_mobile_no" attrs="{'readonly': [('state', '!=', 'draft')]}" />-->
                            <!--<field name="from_stock_location_id" readonly="1" />-->
                            <!--&lt;!&ndash;<field name="ticket_ref" readonly="1" />&ndash;&gt;-->
                            <!--<field name="to_stock_location_id"   readonly="1" />-->
                            <!--&lt;!&ndash;<field name="other_ref" attrs="{'readonly': [('state', 'not in', ['draft','transit'])]}"/>&ndash;&gt;-->
                            <!--<field name="truck_date_in"  attrs="{'readonly': [('state', 'not in', ['draft','transit'])]}" />-->
                            <!--<field name="truck_date_out"  attrs="{'readonly': [('state', 'not in', ['draft','transit'])]}" />-->
                            <!--<field name="time_interval" readonly="1" />-->
                             <!--<field name="aviation_station_manager_id" />-->
                            <!--<field name="product_id" readonly="1" />-->
                            <!--<field name="product_uom"  readonly="1" />-->
                            <!--<field name="product_price" />-->
                            <!--<field name="quantity_loaded" readonly="1" />-->
                            <!--<field name="meter_start" required="1" />-->
                            <!--<field name="meter_end" required="1" />-->
                            <!--<field name="qty_received" />-->
                             <!--<field name="qty_discrepancy" />-->
                            <!--<field name="amt_discrepancy"   />-->

                            <!--<field name="user_id" />-->
                             <!--<field name="aviation_manager_comment" attrs="{'readonly': [('state', 'not in', ['draft','transit'])]}" />-->
                            <!--<field name="resolution_message" readonly="1" />-->
                            <!--<field name="resolution_notice_date" readonly="1" />-->
                        <!--</group>-->
                     <!--</sheet>-->
                    <!--<div class="oe_chatter">-->
                        <!--<field name="message_follower_ids" widget="mail_followers"/>-->
                        <!--<field name="message_ids" widget="mail_thread"/>-->
                    <!--</div>-->
                <!--</form>-->
            <!--</field>-->
        <!--</record>-->

        <record id="view_product_received_register_aviation_tree" model="ir.ui.view" >
            <field name="name" >product.received.register.aviation.tree</field>
            <field name="model">product.received.register.aviation</field>
            <field name="arch" type="xml" >
                <tree string="Product Received Register" >
                     <field name="name"  />
                    <field name="loading_date"  />
                            <field name="receiving_date"  />
                            <field name="truck_no"  />
                    <field name="product_id" />
                            <field name="product_uom" />
                    <field name="quantity_loaded" />
                            <field name="qty_received" />
                    <field name="waybill_no"  />
                    <field name="qty_discrepancy" />
                    <field name="qty_discharged" />
                     <field name="driver_name"  />
                    <field name="driver_mobile_no" />
                            <!--<field name="ticket_ref" />-->
                            <field name="from_stock_location_id"   />
                            <field name="to_stock_location_id"  />
                            <field name="truck_date_in" />
                            <field name="truck_date_out" />
                            <field name="state"  />
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="view_product_received_register_aviation_pivot_view">
            <field name="name">product.received.register.aviation.pivot</field>
            <field name="model">product.received.register.aviation</field>
            <field name="arch" type="xml">
                <pivot string="Product Received Register Pivot">
                    <field name="to_stock_location_id" type="col"/>
                    <field name="truck_date_in" interval="month" type="row" />
                    <field name="quantity_loaded" type="measure"/>
                    <field name="qty_received" type="measure"/>
                </pivot>
            </field>
        </record>

        <record model="ir.ui.view" id="view_product_received_register_aviation_graph_view">
            <field name="name">product.received.register.aviation.graph</field>
            <field name="model">product.received.register.aviation</field>
            <field name="arch" type="xml">
                <graph string="Product Received Register Graph" type="bar">
                   <field name="to_stock_location_id" type="col"/>
                    <field name="truck_date_in" interval="month" type="row" />
                    <field name="quantity_loaded" type="measure"/>
                    <field name="qty_received" type="measure"/>
                </graph>
            </field>
        </record>

         <record id="view_product_received_register_aviation_filter" model="ir.ui.view">
            <field name="name">product.received.register.aviation.select</field>
            <field name="model">product.received.register.aviation</field>
            <field name="arch" type="xml">
                <search string="Product Received Register">
                    <field name="name" string="ID / Driver Name"  filter_domain="['|',('name','ilike',self),('driver_name','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter string="Aviation Station" domain="[]" context="{'group_by':'to_stock_location_id'}"/>
                        <filter name="tdi" string="Time In Month" domain="[]" context="{'group_by':'truck_date_in'}"/>
                        <filter name="tdo" string="Time Out Month" domain="[]" context="{'group_by':'truck_date_out'}"/>
                        <filter string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                         <filter name="grpstatus" string="Status" domain="[]" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!--<record id="action_product_received_register_aviation_form" model="ir.actions.act_window" >-->
            <!--<field name="name" >Product Transfers / Product Received from Own Company</field>-->
            <!--<field name="type">ir.actions.act_window</field>-->
            <!--<field name="res_model">product.received.register.aviation</field>-->
            <!--<field name="view_type">form</field>-->
            <!--<field name="view_mode">tree,form,pivot,graph</field>-->
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
             <!--<field name="search_view_id" ref="view_product_received_register_aviation_filter"/>-->
        <!--</record>-->

        <!--<record id="action_product_received_register_aviation_view_form" model="ir.actions.act_window.view">-->
            <!--<field name="sequence">2</field>-->
            <!--<field name="view_mode">form</field>-->
             <!--<field name="view_id" ref="view_product_received_register_aviation_form" />-->
            <!--<field name="act_window_id" ref="action_product_received_register_aviation_form"/>-->
        <!--</record>-->

         <!--<record id="action_product_received_register_aviation_view_tree" model="ir.actions.act_window.view">-->
            <!--<field name="sequence">1</field>-->
            <!--<field name="view_mode">tree</field>-->
             <!--<field name="view_id" ref="view_product_received_register_aviation_tree" />-->
            <!--<field name="act_window_id" ref="action_product_received_register_aviation_form"/>-->
        <!--</record>-->

        <!--<menuitem id="menu_product_received_register_aviation_form" name="Product Received Register from Own Company" parent="menu_product_received_register_aviation" sequence="1" action="action_product_received_register_aviation_form" groups="kin_aviation.group_aviation_station_management,kin_aviation.group_aviation_manager,kin_aviation.group_change_destination_aviation"  />-->



<!-- Product Received Register from Other Company -->
         <record id="view_product_received_register_aviation_other_company_form" model="ir.ui.view" >
            <field name="name" >product.received.register.aviation.other.company.form</field>
            <field name="model">product.received.register.aviation</field>
            <field name="arch" type="xml" >
                <form string="Product Received Register for Other Company" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Validate and Update Stock" groups="kin_aviation.group_aviation_manager"  class="oe_highlight" confirm="You are about to validate the following product with their stated quantity. If you have not finished entering the required information, please click 'Cancel' button, otherwise click 'Ok' button" />
                        <button name="action_cancel" states="draft,transit" type="object" string="Cancel" confirm="Are you sure you want to Cancel the record?"/>
                        <button name="action_cancel_reverse_qty" states="validate,resolved,issue" type="object" string="Cancel and Reverse Stock" confirm="Are you sure you want to Cancel and Reverse Stock Moves for this Record?. Remember to reverse the discrepancy resolution for this record, id any" groups="kin_aviation.group_cancel_reverse_prr_stock_moves_aviation" />
                        <button name="action_draft" states="cancel" type="object" string="Reset to Draft"  />
                        <field name="state" widget="statusbar" statusbar_visible="draft,validate"   />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="action_view_loading_ticket" groups="account.group_account_user,stock.group_stock_manager"
                                type="object"
                                class="oe_stat_button"
                                icon="fa-pencil-square-o"
                                attrs="{'invisible': [('lt_count', '=', 0)]}" >
                                <field  name="lt_count" widget="statinfo" string="Loading Ticket" />
                            </button>
                            <button type="object"  name="btn_view_jnr" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('jnr_count', '=', 0)]}"  groups="account.group_account_user" >
                                <field name="jnr_count" widget="statinfo" string="Journal Entries"/>
                            </button>
                             <button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                            </button>
                        </div>

                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                             <field name="is_passed"  invisible="1"   />
                        </div>

                        <notebook>
                             <page string="Truck Inspection Checks" >
                                 <group col="4">
                                      <field name="product_id" required="1"    domain="[('white_product_aviation','=','atk')]"  attrs="{'readonly': [('state', '!=', 'draft')], 'required': [('is_passed', '=', True)] }"  options="{'no_open':True,'no_create':True}" />
                                <field name="product_uom" readonly="1" />
                                     <field name="receiving_date" required="1" attrs="{'readonly': [('state', '!=', 'draft')], 'required': [('is_passed', '=', True)] }" />
                                    <field name="create_date" readonly="1" />
                                 </group>
                                <group>
                                    <!--<field name="date_time_arrival" />-->
                                    <field name="check_date" />
                                    <field name="is_tractor_cabin" />
                                    <field name="is_ppes" />
                                    <field name="is_spark_arrestor" />
                                    <field name="is_seal_intact" />
                                    <field name="is_tyre_condition_extra_type" />
                                    <field name="is_fire_extinguisher" />
                                    <field name="is_amber_light" />
                                    <field name="is_truck_dedicated" />
                                    <field name="is_truck_epoxycoated" />
                                    <field name="is_reverse_alarm" />
                                    <field name="note_security" />
                                    <field name="note_safety" />
                                    <field name="note_depot" />
                                </group>
                            </page>
                           <page string="Quality Control Procedure" >
                               <group col="4">
                                   <group string="Visual Check" >

                                   </group>
                                   <group string="Quality Control Check" >
                                        <field name="temp" required="1"/>
                                        <field name="density"  required="1" />
                                        <field name="conductivity"  required="1" />
                                        <field name="qhsse_remark" />
                                   </group>
                                   <group string="Appearance Check">
                                        <field name="is_appearance"  />
                                    </group>
                               </group>
                            </page>


                            <page string="Product Received Record" attrs="{'invisible': [('is_passed', '=', False)]}" >
                                <group string="Product Received Record"  col="4"  >
                                <field name="loading_date"  attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                <field name="truck_no" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                <field name="waybill_no"  attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                <field name="driver_name"   attrs="{'readonly': [('state', '!=', 'draft')]}"  />
                                <field name="driver_mobile_no" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                <field name="from_stock_location_id" domain="[('usage','=','internal')]" options="{'no_open':True}"  attrs="{'readonly': [('state', '!=', 'draft')]}"  />
                                 <!--<field name="ticket_ref"  attrs="{'readonly': [('state', '!=', 'draft')]}" />-->
                                <field name="to_stock_location_id"   attrs="{'readonly': [('state', '!=', 'draft')], 'required': [('is_passed', '=', True)]}"  options="{'no_open':True,'no_create':True}" />
                                <!--<field name="other_ref" attrs="{'readonly': [('state', '!=', 'draft')]}" />-->
                                <field name="truck_date_in" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                <field name="truck_date_out" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                <field name="time_interval" readonly="1" />
                                 <field name="aviation_station_manager_id" />
                                <field name="product_price" />
                                <field name="quantity_loaded"  required="1" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                 <field name="pump_id" required="1" domain="[('pump_type','=','is_discharging_pump'),('aviation_station_id','=',to_stock_location_id)]"   attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}"  />
                               <field name="meter_start" required="1"  />
                                <field name="meter_end" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                <field name="qty_received"   />
                                 <field name="qty_haulaged" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"  />
                                <field name="qty_discrepancy" />
                                <field name="amt_discrepancy"   />
                                <field name="user_id" />
                                <field name="aviation_manager_comment" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                              <field name="resolution_message" readonly="1" />
                                <field name="resolution_notice_date" readonly="1" />
                                <field name="create_date" readonly="1" />
                            </group>
                            <notebook>
                                <page string="Product Discharged to Tanks (Dip)" attrs="{'readonly': [('is_passed', '=', False)]}"  >
                                    <field name="prr_line_ids" attrs="{'readonly': [('state', '!=', 'draft')]}"  >
                                        <tree string="PRA" editable="bottom"  create="false" delete="false" >
                                            <field name="is_company_product" invisible="1"/>
                                            <field name="state" invisible="1"/>
                                            <field name="tank_id" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}" domain="[('aviation_station_id','=',parent.to_stock_location_id)]"  options="{'no_open':True,'no_create':True}"  />
                                            <field name="tank_capacity" readonly="1" />
                                            <field name="available_capacity" attrs="{'invisible': [('is_company_product', '=', True)]}" />
                                            <field name="product_id" readonly="1" />
                                            <field name="product_uom" readonly="1" />
                                            <!-- No need to show this field because, the current stock level may change as a result of a loading operation. which will make this value outdated -->
                                            <!--<field name="current_stock_level" readonly="1" attrs="{'invisible': [('is_company_product', '=', True)]}" />-->
                                            <field name="product_allocation" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                            <!--<field name="exp_closing_dip" attrs="{'invisible': [('is_company_product', '=', True)]}" />-->
                                        </tree>
                                    </field>
                                </page>
                            </notebook>
                            </page>
                        </notebook>
                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="action_product_received_register_aviation_other_form" model="ir.actions.act_window" >
            <field name="name" >Product Transfers / Product Received and Discharged</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.received.register.aviation</field>
            <field name="view_type">form</field>
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
            <field name="search_view_id" ref="view_product_received_register_aviation_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a Product Received Register for Products Received From Other Company
              </p>
            </field>
        </record>


        <record id="action_product_received_register_aviation_other_company_view_tree" model="ir.actions.act_window.view">
            <field name="sequence">3</field>
            <field name="view_mode">tree</field>
             <field name="view_id" ref="view_product_received_register_aviation_tree" />
            <field name="act_window_id" ref="action_product_received_register_aviation_other_form"/>
        </record>

        <record id="action_product_received_register_aviation_other_company_view_form" model="ir.actions.act_window.view">
            <field name="sequence">4</field>
            <field name="view_mode">form</field>
             <field name="view_id" ref="view_product_received_register_aviation_other_company_form" />
            <field name="act_window_id" ref="action_product_received_register_aviation_other_form"/>
        </record>

        <menuitem id="menu_product_received_register_aviation_other_company_form" name="Product Received and Discharged" parent="menu_product_received_register_aviation" sequence="1" action="action_product_received_register_aviation_other_form" groups="kin_aviation.group_aviation_station_management,kin_aviation.group_aviation_manager,kin_aviation.group_change_destination_aviation" />


     <!-- Product Received Register Discrepancies -->
         <record id="view_product_received_register_aviation_discrepancies_form" model="ir.ui.view" >
            <field name="name" >product.received.register.aviation.discrepancies.form</field>
            <field name="model">product.received.register.aviation</field>
            <field name="arch" type="xml" >
                <form string="Product Received Register Discrepancies" >
                     <header>
                         <button name="%(action_product_received_register_resolution_aviation)d" type="action" class="oe_highlight"  states="issue" string="Issue Resolved"  groups="kin_aviation.group_product_received_register_resolution_aviation"/>
                         <button name="action_create_journal_entry" type="object"  states="issue" string="Create Journal Entry"  groups="account.group_account_user" />
                         <field name="state" widget="statusbar"  statusbar_visible="draft,validate"   />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="action_view_loading_ticket" groups="account.group_account_user,stock.group_stock_manager"
                                type="object"
                                class="oe_stat_button"
                                icon="fa-pencil-square-o"
                                attrs="{'invisible': [('lt_count', '=', 0)]}" >
                                <field  name="lt_count" widget="statinfo" string="Loading Ticket" />
                            </button>
                            <button type="object"  name="btn_view_jnr" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('jnr_count', '=', 0)]}"  groups="account.group_account_user" >
                                <field name="jnr_count" widget="statinfo" string="Journal Entries"/>
                            </button>
                        </div>
                         <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                             <field name="is_passed"   />
                        </div>

                        <notebook>
                             <page string="Truck Inspection Checks" >
                                  <group col="4">
                                      <field name="product_id" readonly="1"    domain="[('white_product_aviation','=','atk')]"  attrs="{'readonly': [('state', '!=', 'draft')], 'required': [('is_passed', '=', True)] }"  options="{'no_open':True,'no_create':True}" />
                                <field name="product_uom" readonly="1" />
                                     <field name="receiving_date" readonly="1" />
                                      <field name="create_date" readonly="1" />
                                 </group>
                                <group>
                                    <!--<field name="date_time_arrival" readonly="1" />-->
                                    <field name="check_date" readonly="1" />
                                    <field name="is_tractor_cabin" readonly="1" />
                                    <field name="is_ppes" readonly="1" />
                                    <field name="is_spark_arrestor" readonly="1" />
                                    <field name="is_seal_intact" readonly="1" />
                                    <field name="is_tyre_condition_extra_type" readonly="1" />
                                    <field name="is_fire_extinguisher" readonly="1" />
                                    <field name="is_amber_light" readonly="1" />
                                    <field name="is_truck_dedicated" readonly="1" />
                                    <field name="is_truck_epoxycoated" readonly="1" />
                                    <field name="is_reverse_alarm" readonly="1" />
                                    <field name="note_security" readonly="1" />
                                    <field name="note_safety" readonly="1" />
                                    <field name="note_depot" readonly="1" />
                                </group>
                            </page>
                           <page string="Quality Control Procedure" >
                               <group col="4">
                                   <group string="Visual Check" >

                                   </group>
                                   <group string="Quality Control Check" >
                                        <field name="temp" readonly="1" />
                                        <field name="density"  readonly="1" />
                                        <field name="conductivity"  readonly="1" />
                                        <field name="qhsse_remark" readonly="1"  />
                                   </group>
                                   <group string="Appearance Check">
                                        <field name="is_appearance" readonly="1"   />
                                    </group>
                               </group>
                            </page>


                            <page string="Product Received Record" attrs="{'invisible': [('is_passed', '=', False)]}" >
                                <group string="Product Received Record"  col="4"  >
                                <field name="loading_date"  readonly="1"/>
                                <field name="receiving_date" readonly="1" />
                                <field name="truck_no" readonly="1" />
                                <field name="waybill_no"  readonly="1" />
                                <field name="driver_name"   readonly="1"  />
                                <field name="driver_mobile_no" readonly="1" />
                                <field name="from_stock_location_id" domain="[('usage','=','internal')]" options="{'no_open':True}"  readonly="1"  />
                                 <!--<field name="ticket_ref"  readonly="1" />-->
                                <field name="to_stock_location_id"   readonly="1"  options="{'no_open':True,'no_create':True}" />
                                <!--<field name="other_ref" readonly="1" />-->
                                <field name="truck_date_in" readonly="1" />
                                <field name="truck_date_out" readonly="1" />
                                <field name="time_interval" readonly="1" />
                                 <field name="aviation_station_manager_id" />
                                <field name="product_id"    readonly="1"  options="{'no_open':True,'no_create':True}" />
                                <field name="product_uom" readonly="1" />
                                <field name="product_price" readonly="1" />
                                <field name="quantity_loaded"   readonly="1" />
                                <field name="meter_start" readonly="1"  />
                                <field name="meter_end"  readonly="1" />
                                <field name="qty_received"  />
                                 <field name="qty_haulaged"  />
                                <field name="qty_discrepancy" readonly="1" />
                                <field name="amt_discrepancy"   />
                                <field name="user_id" />
                                <field name="aviation_manager_comment" readonly="1" />
                              <field name="resolution_message" readonly="1" />
                                <field name="resolution_notice_date" readonly="1" />
                                <field name="create_date" readonly="1" />
                            </group>
                            <notebook>
                                <page string="Product Discharged to Tanks (Dip)" attrs="{'readonly': [('is_passed', '=', False)]}" >
                                    <field name="prr_line_ids" >
                                        <tree string="PRA" editable="bottom" >
                                          <field name="tank_id"  />
                                           <field name="tank_capacity" />
                                          <field name="available_capacity"  />
                                          <field name="product_id" />
                                           <field name="product_uom" />
                                            <field name="current_stock_level" />
                                           <field name="product_allocation"  />
                                        <field name="exp_closing_dip"  />
                                        <field name="is_company_product" invisible="1"/>
                                           <field name="state" invisible="1"/>                                        </tree>
                                    </field>
                                </page>
                            </notebook>
                            </page>
                        </notebook>
                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="action_product_received_register_aviation_discrepancies_form" model="ir.actions.act_window" >
            <field name="name" >Product Transfers / Product Received and Discharged (Discrepancies)</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.received.register.aviation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot,graph</field>
            <field name="domain">[('state','=','issue')]</field>

        </record>

        <record id="action_product_received_register_aviation_discrepancies_view_form" model="ir.actions.act_window.view">
            <field name="sequence">6</field>
            <field name="view_mode">form</field>
             <field name="view_id" ref="view_product_received_register_aviation_discrepancies_form" />
            <field name="act_window_id" ref="action_product_received_register_aviation_discrepancies_form"/>
        </record>
        <record id="action_product_received_register_aviation_discrepancies_view_tree" model="ir.actions.act_window.view">
            <field name="sequence">5</field>
            <field name="view_mode">tree</field>
             <field name="view_id" ref="view_product_received_register_aviation_tree" />
            <field name="act_window_id" ref="action_product_received_register_aviation_discrepancies_form"/>
        </record>

        <menuitem id="menu_product_received_register_aviation_discrepancies_form" name="Product Received and Discharged (Discrepancies)" groups="kin_aviation.group_aviation_station_management,kin_aviation.group_product_received_register_resolution_aviation" parent="menu_product_received_register_aviation" sequence="2" action="action_product_received_register_aviation_discrepancies_form"/>

<!-- Product Received Register Window - aviation Manager -->
        <!--<record id="action_product_received_register_aviation_wip_aviation_manager_form" model="ir.actions.act_window" >-->
            <!--<field name="name" >Product Transfers / Product Received Register (Pending)</field>-->
            <!--<field name="type">ir.actions.act_window</field>-->
            <!--<field name="res_model">product.received.register.aviation</field>-->
            <!--<field name="view_type">form</field>-->
            <!--<field name="view_mode">tree,form,pivot,graph</field>-->
            <!--<field name="domain">[('state','in',['draft','transit','cancel'])]</field>-->
        <!--</record>-->

        <!--<record id="action_product_received_register_aviation_wip_aviation_manager_view_tree" model="ir.actions.act_window.view">-->
            <!--<field name="sequence">7</field>-->
            <!--<field name="view_mode">tree</field>-->
             <!--<field name="view_id" ref="view_product_received_register_aviation_tree" />-->
            <!--<field name="act_window_id" ref="action_product_received_register_aviation_wip_aviation_manager_form"/>-->
        <!--</record>-->

        <!--<record id="action_product_received_register_aviation_wip_aviation_manager_view_form" model="ir.actions.act_window.view">-->
            <!--<field name="sequence">8</field>-->
            <!--<field name="view_mode">form</field>-->
             <!--<field name="view_id" ref="view_product_received_register_aviation_other_company_form" />-->
            <!--<field name="act_window_id" ref="action_product_received_register_aviation_wip_aviation_manager_form"/>-->
        <!--</record>-->
        <!--<menuitem id="menu_product_received_register_aviation_wip_aviation_manager_form" name="Product Received (Pending)" groups="kin_aviation.group_aviation_manager" parent="menu_product_received_register_aviation" sequence="0" action="action_product_received_register_aviation_wip_aviation_manager_form"/>-->


         <!-- Extend Product -->
         <record id="product_template_aviation_station_form_extend" model="ir.ui.view">
            <field name="name">product.template.aviation.station.form.extend</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_form_view"/>
            <field name="arch" type="xml">
                <field name="categ_id" position="after" >
                    <field name="white_product_aviation" />
                </field>
                <field name="taxes_id" position="after" >
                    <field name="discrepancy_account_aviation" />
                    <field name="discharged_discrepancy_account_aviation" />
                </field>
            </field>
        </record>


        <!-- Extend Account Move -->
        <record id="view_move_line_form_aviation_station_extend" model="ir.ui.view">
            <field name="name">account.move.line.form.aviation.station.extend</field>
            <field name="model">account.move.line</field>
            <field name="inherit_id" ref="account.view_move_line_form"/>
            <field name="arch" type="xml">
                <field name="move_id" position="before">
                    <field name="prr_av_id"   />
                    <!--<field name="stock_control_id"   />-->
                </field>
            </field>
        </record>


        <record id="view_move_form_aviation_station_extend" model="ir.ui.view" >
            <field name="name" >account.move.form.aviation.station.extend</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form" />
            <field name="arch" type="xml">
                <field name="ref" position="after" >
                    <field name="prr_av_id" />
                    <!--<field name="stock_control_id"   />-->
                </field>
            </field>
        </record>

        <record id="view_account_move_filter_aviation_station_extend" model="ir.ui.view">
            <field name="name">account.move.select.aviation.station.extend</field>
            <field name="model">account.move</field>
             <field name="inherit_id" ref="account.view_account_move_filter" />
            <field name="arch" type="xml">
                <field name="name" position="after" >
                    <field name="prr_av_id"/>
                    <!--<field name="stock_control_id"   />-->
                </field>
            </field>
        </record>


 <!--Company -->
         <record model="ir.ui.view" id="view_company_kin_aviation">
                    <field name="name">res.company.form.kin.aviation.station</field>
                    <field name="inherit_id" ref="base.view_company_form"/>
                    <field name="model">res.company</field>
                    <field name="arch" type="xml">
                        <notebook position="inside">
                            <page string="Aviation Station">
                                <group>
                                    <!--<field name="inventory_change_aviation"  />-->
                                    <!--<field name="gain_account_aviation"  />-->
                                    <!--<field name="loss_account_aviation"  />-->
                                </group>
                            </page>
                        </notebook>
                    </field>
                </record>

        <!-- Stock Location -->
        <record id="view_location_form_aviation_station_extend" model="ir.ui.view">
            <field name="name">stock.location.aviation.station.form</field>
            <field name="model">stock.location</field>
            <field name="inherit_id" ref="stock.view_location_form" />
            <field name="arch" type="xml">
                <div class="oe_button_box" position="inside" name="button_box">
                        <button type="object"  name="btn_view_prr_aviation" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('prr_count', '=', 0)]}"  >
                                <field name="prr_count" widget="statinfo" string="Product Received Registers"/>
                            </button>

                    <button type="object"  name="btn_view_tank_storages" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('tank_storage_count', '=', 0)]}"  >
                                <field name="tank_storage_count" widget="statinfo" string="Storage Tank"/>
                            </button>

                    <button type="object"  name="btn_view_bowsers" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('bowser_count', '=', 0)]}"  >
                                <field name="bowser_count" widget="statinfo" string="Bowsers"/>
                            </button>



                </div>
            </field>
        </record>

          <record id="view_res_partner_aviation_station_extend" model="ir.ui.view">
            <field name="name" >res.partner.aviation.station.extend</field>
            <field name="model" >res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                 <field name="function" position="before" >
                     <field name="is_company_aviation_station" />
                     <field name="aviation_station_id" attrs="{'required': [('aviation_station_id', '=', True)]}" />
                 </field>
            </field>
        </record>

<!-- Stock Move -->
        <record id="view_move_form_aviation_extend" model="ir.ui.view">
            <field name="name">stock.move.form.aviation.extend</field>
            <field name="model">stock.move</field>
            <field name="inherit_id" ref="stock.view_move_form" />
            <field name="arch" type="xml">
                    <group name="destination_grp" position="after" >
                        <group string="Aviation Links" colspan="4">
                            <field name="prr_av_id" />
                            <field name="stock_control_av_id" />
                            <field name="internal_movement_av_id" />
                            <field name="bowser_movement_av_id" />
                            <field name="bowser_movement_avt_id" />
                            <field name="bowser_movement_avb_id" />
                            <field name="bowser_movement_avt_id" />
                            <field name="loading_av_id" />
                            <field name="delivery_receipt_av_id" />
                        </group>
                    </group>
            </field>
        </record>

         <!-- Product Internal Movement -->
            <record id="view_internal_movement_aviation_form" model="ir.ui.view" >
            <field name="name" >kin.internal.movement.aviation.form</field>
            <field name="model">kin.internal.movement.aviation</field>
            <field name="arch" type="xml" >
                <form string="Internal Movement" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Validate and Update Stock" groups="kin_aviation.group_internal_movement_aviation"  class="oe_highlight" confirm="You are about to validate that the following product with the stated quantity. If you have not finished entering the required information, please click 'Cancel' button, otherwise click 'Ok' button" />
                        <button name="action_cancel" states="validate" type="object" string="Cancel" confirm="Are you sure you want to Cancel the document?" groups="kin_aviation.group_internal_movement_aviation" />
                        <button name="action_draft" states="cancel" type="object" string="Reset to Draft" groups="kin_aviation.group_internal_movement_aviation"   />
                        <field name="state" widget="statusbar"  />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                             <button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                            </button>
                        </div>

                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                            <field name="is_passed" invisible="1" />
                        </div>
                        <group col="4">
                            <field name="aviation_station_id" required="1" />
                            <field name="create_date" readonly="1"  />
                        </group>
                         <notebook>
                            <page string="Quality Control Procedure" >
                               <group col="4">
                                   <group string="Visual Check" >

                                   </group>
                                   <group string="Quality Control Check" >
                                        <field name="temp" required="1"/>
                                        <field name="density"  required="1" />
                                        <field name="conductivity"  required="1" />
                                        <field name="qhsse_remark" />
                                   </group>
                                   <group string="Appearance Check">
                                        <field name="is_appearance"  />
                                    </group>
                               </group>
                            </page>
                             <page string="Tank to Tank Transfer" attrs="{'invisible': [('is_passed', '=', False)]}" >
                                 <group col="4">
                                    <field name="product_id"   required="1" domain="[('white_product_aviation','=','atk')]" attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}" />
                                    <field name="product_uom" readonly="1" />
                                    <field name="date_move" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" />
                                    <field name="qty" required="1" />
                                     <field name="from_tank_storage_id" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1" domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"   />
                                    <field name="user_id" attrs="{'readonly': [('state', '!=', 'draft')]}" readonly="1"  />
                                    <field name="to_tank_storage_id" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}" />
                                    <field name="note" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                    <field name="create_date" readonly="1" />
                                </group>
                             </page>
                         </notebook>

                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

                <record id="view_kin_internal_movement_aviation_tree" model="ir.ui.view" >
            <field name="name" >kin.internal.movement.aviation.tree</field>
            <field name="model">kin.internal.movement.aviation</field>
            <field name="arch" type="xml" >
                <tree string="Product Internal Movement" >
                     <field name="name"  />
                    <field name="date_move"  />
                    <field name="product_id"  />
                    <field name="product_uom"  />
                    <field name="qty" />
                    <field name="user_id" />
                    <field name="from_tank_storage_id" />
                    <field name="to_tank_storage_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>



         <record id="view_kin_internal_movement_aviation_filter" model="ir.ui.view">
            <field name="name">kin.internal.movement.aviation.select</field>
            <field name="model">kin.internal.movement.aviation</field>
            <field name="arch" type="xml">
                <search string="Product Internal Movement">
                    <field name="name" string="ID"  filter_domain="['|',('name','ilike',self),('driver_name','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                         <filter name="grpstatus" string="Status" domain="[]" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_internal_movement_aviation_form" model="ir.actions.act_window" >
            <field name="name" >Product Transfers / Tank to Tank Transfer</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.internal.movement.aviation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
            <field name="search_view_id" ref="view_kin_internal_movement_aviation_filter"/>
        </record>

        <menuitem id="menu_stock_internal_movement_aviation_form" name="Tank to Tank Transfer" parent="menu_product_received_register_aviation" sequence="3" action="action_internal_movement_aviation_form" groups="kin_aviation.group_internal_movement_aviation" />


        <!-- Tank to Bowser Transfer -->
            <record id="view_bowser_movement_aviation_form" model="ir.ui.view" >
            <field name="name" >kin.bowser.movement.aviation.form</field>
            <field name="model">kin.bowser.movement.aviation</field>
            <field name="arch" type="xml" >
                <form string="bowser Movement" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Validate and Update Bowser" groups="kin_aviation.group_bowser_movement_aviation"  class="oe_highlight" confirm="You are about to validate that the following product with the stated quantity. If you have not finished entering the required information, please click 'Cancel' button, otherwise click 'Ok' button" />
                        <button name="action_cancel" states="validate" type="object" string="Cancel" confirm="Are you sure you want to Cancel the record?" groups="kin_aviation.group_bowser_movement_aviation" />
                        <button name="action_draft" states="cancel" type="object" string="Reset to Draft" groups="kin_aviation.group_bowser_movement_aviation"   />
                        <field name="state" widget="statusbar"  />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                             <button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                            </button>
                        </div>

                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                            <field name="is_passed" invisible="1"  />
                        </div>
                        <group col="4">
                             <field name="aviation_station_id"  required="1" />
                            <field name="create_date" readonly="1" />
                        </group>
                        <notebook>
                            <page string="Quality Control Procedure" >
                               <group col="4">
                                   <group string="Visual Check" >

                                   </group>
                                   <group string="Quality Control Check" >
                                        <field name="temp" required="1"/>
                                        <field name="density"  required="1" />
                                        <field name="conductivity"  required="1" />
                                        <field name="qhsse_remark" />
                                   </group>
                                   <group string="Appearance Check">
                                        <field name="is_appearance"  />
                                    </group>
                               </group>
                            </page>
                            <page string="Tank to Bowser Transfer" attrs="{'invisible': [('is_passed', '=', False)]}" >
                                 <group col="4">
                                    <field name="product_id"   required="1" domain="[('white_product_aviation','=','atk')]" attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}" />
                                    <field name="product_uom" readonly="1" />
                                    <field name="date_move" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" />
                                    <field name="qty" required="1" />
                                     <field name="from_tank_storage_id" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"  domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"   />
                                    <field name="user_id" attrs="{'readonly': [('state', '!=', 'draft')]}" readonly="1"  />
                                    <field name="to_tank_storage_id" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"  />
                                    <field name="note" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                 </group>
                            </page>

                        </notebook>
                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

                <record id="view_kin_bowser_movement_aviation_tree" model="ir.ui.view" >
            <field name="name" >kin.bowser.movement.aviation.tree</field>
            <field name="model">kin.bowser.movement.aviation</field>
            <field name="arch" type="xml" >
                <tree string="Product bowser Movement" >
                     <field name="name"  />
                    <field name="date_move"  />
                    <field name="product_id"  />
                    <field name="product_uom"  />
                    <field name="qty" />
                    <field name="user_id" />
                    <field name="from_tank_storage_id" />
                    <field name="to_tank_storage_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>



         <record id="view_kin_bowser_movement_aviation_filter" model="ir.ui.view">
            <field name="name">kin.bowser.movement.aviation.select</field>
            <field name="model">kin.bowser.movement.aviation</field>
            <field name="arch" type="xml">
                <search string="Product bowser Movement">
                    <field name="name" string="ID"  filter_domain="['|',('name','ilike',self),('driver_name','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                         <filter name="grpstatus" string="Status" domain="[]" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_bowser_movement_aviation_form" model="ir.actions.act_window" >
            <field name="name" >Product Transfers / Tank to Refueller Transfer</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.bowser.movement.aviation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
            <field name="search_view_id" ref="view_kin_bowser_movement_aviation_filter"/>
        </record>

        <menuitem id="menu_stock_bowser_movement_aviation_form" name="Tank to Refueller Transfer" parent="menu_product_received_register_aviation" sequence="4" action="action_bowser_movement_aviation_form" groups="kin_aviation.group_bowser_movement_aviation" />



        <!-- Bowser  to Tank -->
                 <record id="view_bowser_movement_tank_aviation_form" model="ir.ui.view" >
            <field name="name" >kin.bowser.movement.tank.aviation.form</field>
            <field name="model">kin.bowser.movement.tank.aviation</field>
            <field name="arch" type="xml" >
                <form string="Refueller to Tank Movement" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Validate and Update Bowser" groups="kin_aviation.group_bowser_movement_tank_aviation"  class="oe_highlight" confirm="You are about to validate that the following product with the stated quantity. If you have not finished entering the required information, please click 'Cancel' button, otherwise click 'Ok' button" />
                        <button name="action_cancel" states="validate" type="object" string="Cancel" confirm="Are you sure you want to Cancel the record?" groups="kin_aviation.group_bowser_movement_tank_aviation" />
                        <button name="action_draft" states="cancel" type="object" string="Reset to Draft" groups="kin_aviation.group_bowser_movement_tank_aviation"   />
                        <field name="state" widget="statusbar"  />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                             <button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                            </button>
                        </div>

                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                            <field name="is_passed" invisible="1" />
                        </div>
                        <group col="4">
                             <field name="aviation_station_id"  required="1" />
                            <field name="create_date" readonly="1" />
                        </group>
                        <notebook>
                            <page string="Quality Control Procedure" >
                               <group col="4">
                                   <group string="Visual Check" >

                                   </group>
                                   <group string="Quality Control Check" >
                                        <field name="temp" required="1"/>
                                        <field name="density"  required="1" />
                                        <field name="conductivity"  required="1" />
                                        <field name="qhsse_remark" />
                                   </group>
                                   <group string="Appearance Check">
                                        <field name="is_appearance"  />
                                    </group>
                               </group>
                            </page>
                            <page string="Bowser to Tank Transfer" attrs="{'invisible': [('is_passed', '=', False)]}" >
                                 <group col="4">
                                    <field name="product_id"   required="1" domain="[('white_product_aviation','=','atk')]" attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}" />
                                    <field name="product_uom" readonly="1" />
                                    <field name="date_move" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" />
                                    <field name="qty" required="1" />
                                     <field name="from_tank_storage_id" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"  domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"   />
                                    <field name="user_id" attrs="{'readonly': [('state', '!=', 'draft')]}" readonly="1"  />
                                    <field name="to_tank_storage_id" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"  />
                                    <field name="note" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                 </group>
                            </page>

                        </notebook>
                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

                <record id="view_kin_bowser_movement_tank_aviation_tree" model="ir.ui.view" >
            <field name="name" >kin.bowser.movement.tank.aviation.tree</field>
            <field name="model">kin.bowser.movement.tank.aviation</field>
            <field name="arch" type="xml" >
                <tree string="Product bowser Movement" >
                     <field name="name"  />
                    <field name="date_move"  />
                    <field name="product_id"  />
                    <field name="product_uom"  />
                    <field name="qty" />
                    <field name="user_id" />
                    <field name="from_tank_storage_id" />
                    <field name="to_tank_storage_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>



         <record id="view_kin_bowser_movement_tank_aviation_filter" model="ir.ui.view">
            <field name="name">kin.bowser.movement.tank.aviation.select</field>
            <field name="model">kin.bowser.movement.tank.aviation</field>
            <field name="arch" type="xml">
                <search string="Product Bowser Movement">
                    <field name="name" string="ID"  filter_domain="['|',('name','ilike',self),('driver_name','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                         <filter name="grpstatus" string="Status" domain="[]" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_bowser_movement_tank_aviation_form" model="ir.actions.act_window" >
            <field name="name" >Product Transfers / Refueller To Tank Transfer</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.bowser.movement.tank.aviation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
            <field name="search_view_id" ref="view_kin_bowser_movement_tank_aviation_filter"/>
        </record>

        <menuitem id="menu_stock_bowser_movement_tank_aviation_form" name="Refueller To Tank Transfer" parent="menu_product_received_register_aviation" sequence="5" action="action_bowser_movement_tank_aviation_form" groups="kin_aviation.group_bowser_movement_tank_aviation" />


        <!-- Bowser to Bowser -->
             <record id="view_bowser_movement_bowser_aviation_form" model="ir.ui.view" >
            <field name="name" >kin.bowser.movement.bowser.aviation.form</field>
            <field name="model">kin.bowser.movement.bowser.aviation</field>
            <field name="arch" type="xml" >
                <form string="Refueller to Tank Movement" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Validate and Update Bowser" groups="kin_aviation.group_bowser_movement_bowser_aviation"  class="oe_highlight" confirm="You are about to validate that the following product with the stated quantity. If you have not finished entering the required information, please click 'Cancel' button, otherwise click 'Ok' button" />
                        <button name="action_cancel" states="validate" type="object" string="Cancel" confirm="Are you sure you want to Cancel the record?" groups="kin_aviation.group_bowser_movement_bowser_aviation" />
                        <button name="action_draft" states="cancel" type="object" string="Reset to Draft" groups="kin_aviation.group_bowser_movement_bowser_aviation"   />
                        <field name="state" widget="statusbar"  />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                             <button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                            </button>
                        </div>

                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                            <field name="is_passed" invisible="1" />
                        </div>
                        <group col="4">
                             <field name="aviation_station_id"  required="1" />
                            <field name="create_date" readonly="1" />
                        </group>
                        <notebook>
                            <page string="Quality Control Procedure" >
                               <group col="4">
                                   <group string="Visual Check" >

                                   </group>
                                   <group string="Quality Control Check" >
                                        <field name="temp" required="1"/>
                                        <field name="density"  required="1" />
                                        <field name="conductivity"  required="1" />
                                        <field name="qhsse_remark" />
                                   </group>
                                   <group string="Appearance Check">
                                        <field name="is_appearance"  />
                                    </group>
                               </group>
                            </page>
                            <page string="Bowser to Bowser Transfer" attrs="{'invisible': [('is_passed', '=', False)]}" >
                                 <group col="4">
                                    <field name="product_id"   required="1" domain="[('white_product_aviation','=','atk')]" attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}" />
                                    <field name="product_uom" readonly="1" />
                                    <field name="date_move" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" />
                                    <field name="qty" required="1" />
                                     <field name="from_tank_storage_id" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"  domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"   />
                                    <field name="user_id" attrs="{'readonly': [('state', '!=', 'draft')]}" readonly="1"  />
                                    <field name="to_tank_storage_id" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"  />
                                    <field name="note" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                 </group>
                            </page>

                        </notebook>
                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

                <record id="view_kin_bowser_movement_bowser_aviation_tree" model="ir.ui.view" >
            <field name="name" >kin.bowser.movement.bowser.aviation.tree</field>
            <field name="model">kin.bowser.movement.bowser.aviation</field>
            <field name="arch" type="xml" >
                <tree string="Product bowser Movement" >
                     <field name="name"  />
                    <field name="date_move"  />
                    <field name="product_id"  />
                    <field name="product_uom"  />
                    <field name="qty" />
                    <field name="user_id" />
                    <field name="from_tank_storage_id" />
                    <field name="to_tank_storage_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>



         <record id="view_kin_bowser_movement_bowser_aviation_filter" model="ir.ui.view">
            <field name="name">kin.bowser.movement.bowser.aviation.select</field>
            <field name="model">kin.bowser.movement.bowser.aviation</field>
            <field name="arch" type="xml">
                <search string="Product Bowser Movement">
                    <field name="name" string="ID"  filter_domain="['|',('name','ilike',self),('driver_name','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                         <filter name="grpstatus" string="Status" domain="[]" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_bowser_movement_bowser_aviation_form" model="ir.actions.act_window" >
            <field name="name" >Product Transfers / Refueller To Refueller Transfer</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.bowser.movement.bowser.aviation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
            <field name="search_view_id" ref="view_kin_bowser_movement_bowser_aviation_filter"/>
        </record>

        <menuitem id="menu_stock_bowser_movement_bowser_aviation_form" name="Refueller to Refueller Transfer" parent="menu_product_received_register_aviation" sequence="6" action="action_bowser_movement_bowser_aviation_form" groups="kin_aviation.group_bowser_movement_bowser_aviation" />


        <!-- Loading -->
         <record id="view_loading_transfer_form" model="ir.ui.view" >
            <field name="name" >kin.loading.record.form</field>
            <field name="model">kin.loading.record</field>
            <field name="arch" type="xml" >
                <form string="Loading Meter Record" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Confirm" groups="kin_aviation.group_loading_transfer"  class="oe_highlight"  />
                        <button name="action_cancel" states="confirm" type="object" string="Cancel" confirm="Are you sure you want to Cancel the record?" groups="kin_aviation.group_aviation_officer"  />
                        <button name="action_draft" states="cancel" type="object" string="Reset to Draft" groups="kin_aviation.group_loading_transfer"   />
                        <field name="state" widget="statusbar"  />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                             <button type="object"  name="btn_view_aviation_record" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('aviation_record_count', '=', 0)]}"  >
                                <field name="aviation_record_count" widget="statinfo" string="Aviation Record"/>
                            </button>
                             <button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                            </button>

                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                            <field name="is_passed" invisible="1" />
                        </div>
                        <group col="4" >
                             <field name="aviation_station_id"  required="1" />
                            <field name="loading_operator_id" options="{'no_open':True,'no_create':True}"  required="1" />
                            <field name="create_date" readonly="1" />
                        </group>
                        <notebook>
                            <page string="Quality Control Procedure" >
                               <group col="4">
                                   <group string="Visual Check" >

                                   </group>
                                   <group string="Quality Control Check" >
                                        <field name="temp" required="1"/>
                                        <field name="density"  required="1" />
                                        <field name="conductivity"  required="1" />
                                        <field name="qhsse_remark" />
                                   </group>
                                   <group string="Appearance Check">
                                        <field name="is_appearance"  />
                                    </group>
                               </group>
                            </page>
                            <page string="Loading" attrs="{'invisible': [('is_passed', '=', False)]}" >

                                <group col="4" string="Loading Meter" >
                                    <field name="date_load" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" />
                                    <field name="product_id"   required="1" domain="[('white_product_aviation','=','atk')]" attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}" />
                                    <field name="product_uom" readonly="1" />
                                    <field name="pump_id" required="1" domain="[('pump_type','=','is_loading_pump')]"  attrs="{'readonly': [('state', '!=', 'draft')]}"  options="{'no_open':True,'no_create':True}"  />
                                      <field name="from_tank_storage_id" required="1"  attrs="{'readonly': [('state', '!=', 'draft')]}"  domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"   />
                                    <field name="to_tank_storage_id" required="1"  attrs="{'readonly': [('state', '!=', 'draft')]}"  domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"   />
                                    <field name="loading_opening_meter"  />
                                    <field name="loading_closing_meter" required="1"  attrs="{'readonly': [('state', '!=', 'draft')]}"  />
                                    <field name="loading_difference" />
                                    <field name="user_id" />
                                </group>
                                <!--<group col="4" string="Bowser Dippings">-->
                                     <!--<field name="opening_dip"  />-->
                                     <!--<field name="closing_dip" required="1"  attrs="{'readonly': [('state', '!=', 'draft')]}" />-->
                                     <!--<field name="dipping_difference"  />-->
                                <!--</group>-->
                                <!--<group col="4" >-->
                                    <!--<field name="stock_gain_loss_difference" />-->
                                <!--</group>-->

                            </page>

                        </notebook>
                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="view_kin_loading_transfer_tree" model="ir.ui.view" >
            <field name="name" >kin.loading.record.tree</field>
            <field name="model">kin.loading.record</field>
            <field name="arch" type="xml" >
                <tree string="Loading Meter Record" >
                     <field name="name"  />
                    <field name="date_load"  />
                    <field name="product_id"  />
                    <field name="product_uom"  />
                    <field name="loading_operator_id" />
                    <field name="loading_opening_meter" />
                    <field name="loading_closing_meter" />
                    <field name="loading_difference" />
                    <field name="aviation_station_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>



         <record id="view_kin_loading_transfer_filter" model="ir.ui.view">
            <field name="name">kin.loading.record.select</field>
            <field name="model">kin.loading.record</field>
            <field name="arch" type="xml">
                <search string="Loading Meter Record">
                    <field name="name" string="ID"  filter_domain="['|',('name','ilike',self),('loading_operator_id','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                         <filter name="grpstatus" string="Status" domain="[]" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_loading_transfer_form" model="ir.actions.act_window" >
            <field name="name" >Aviation Station Operation / Loading Meter Record</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.loading.record</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
            <field name="search_view_id" ref="view_kin_loading_transfer_filter"/>
        </record>

        <menuitem id="menu_stock_loading_transfer_form" name="Loading Meter Record" parent="menu_aviation_station_operation" sequence="1" action="action_loading_transfer_form" groups="kin_aviation.group_loading_transfer" />


        <!-- Fuel Delivery Receipts -->
            <record id="view_fuel_delivery_receipt_form" model="ir.ui.view" >
            <field name="name" >kin.fuel.delivery.receipt.form</field>
            <field name="model">kin.fuel.delivery.receipt</field>
            <field name="arch" type="xml" >
                <form string="Fuel Delivery Receipt Record" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Confirm" groups="kin_aviation.group_fuel_delivery_receipt"  class="oe_highlight"  />
                        <button name="action_cancel" states="confirm" type="object" string="Cancel" confirm="Are you sure you want to Cancel the record?" groups="kin_aviation.group_aviation_officer" />
                        <button name="action_draft" states="cancel" type="object" string="Reset to Draft" groups="kin_aviation.group_fuel_delivery_receipt"   />
                        <field name="state" widget="statusbar"  />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                             <button type="object"  name="btn_view_aviation_record" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('aviation_record_count', '=', 0)]}"  >
                                <field name="aviation_record_count" widget="statinfo" string="Aviation Record"/>
                            </button>
                             <button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                            <field name="is_passed" invisible="1" />
                        </div>
                        <group col="4">
                             <field name="aviation_station_id"  required="1" />
                            <field name="delivery_attendant_id" required="1" options="{'no_open':True,'no_create':True}"  />
                            <field name="create_date" readonly="1" />
                        </group>
                        <notebook>
                            <page string="Quality Control Procedure" >
                               <group col="4">
                                   <group string="Visual Check" >

                                   </group>
                                   <group string="Quality Control Check" >
                                        <field name="temp" required="1"/>
                                        <field name="density"  required="1" />
                                        <field name="conductivity"  required="1" />
                                        <field name="qhsse_remark" />
                                   </group>
                                   <group string="Appearance Check">
                                        <field name="is_appearance"  />
                                    </group>
                               </group>
                            </page>
                            <page string="Fuel Delivery Receipt" attrs="{'invisible': [('is_passed', '=', False)]}" >

                                <group col="4" >
                                    <field name="customer_id" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"  />
                                    <field name="receipt_date" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" />
                                     <field name="from_tank_storage_id" required="1"  attrs="{'readonly': [('state', '!=', 'draft')]}"  domain="[('aviation_station_id','=',aviation_station_id)]"  options="{'no_open':True,'no_create':True}"   />
                                    <field name="product_id"   required="1" domain="[('white_product_aviation','=','atk')]" attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}" />
                                    <field name="product_uom" readonly="1" />
                                    <field name="product_price" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                                    <field name="pump_id" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"  domain="[('pump_type','=','is_bowser_loading_pump')]" options="{'no_open':True,'no_create':True}" />
                                    <field name="opening_meter"  />
                                    <field name="closing_meter" attrs="{'readonly': [('state', '!=', 'draft')]}"  />
                                     <field name="volume_sold" />
                                    <field name="price_subtotal" />
                                    <field name="currency_id" attrs="{'readonly': [('state', '!=', 'draft')]}"  />
                                    <field name="user_id" />

                                </group>

                            </page>

                        </notebook>
                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="view_kin_fuel_delivery_receipt_tree" model="ir.ui.view" >
            <field name="name" >kin.fuel.delivery.receipt.tree</field>
            <field name="model">kin.fuel.delivery.receipt</field>
            <field name="arch" type="xml" >
                <tree string="Loading Meter Record" >
                     <field name="name"  />
                    <field name="receipt_date"  />
                    <field name="delivery_attendant_id" />
                    <field name="product_id"  />
                    <field name="product_uom"  />
                    <field name="product_price" />
                    <field name="volume_sold" />
                    <field name="opening_meter" />
                    <field name="closing_meter" />
                    <field name="price_subtotal" />
                    <field name="user_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>



         <record id="view_kin_fuel_delivery_receipt_filter" model="ir.ui.view">
            <field name="name">kin.fuel.delivery.receipt.select</field>
            <field name="model">kin.fuel.delivery.receipt</field>
            <field name="arch" type="xml">
                <search string="Fuel Delivery Receipt Record">
                    <field name="name" string="ID"  filter_domain="['|',('name','ilike',self),('delivery_attendant_id','ilike',self)]"/>
                    <group expand="0" string="Group By">
                        <filter string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                         <filter name="grpstatus" string="Status" domain="[]" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_fuel_delivery_receipt_form" model="ir.actions.act_window" >
            <field name="name" >Aviation Station Operation / Fuel Delivery Receipt Record</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.fuel.delivery.receipt</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
            <field name="search_view_id" ref="view_kin_fuel_delivery_receipt_filter"/>
        </record>

        <menuitem id="menu_stock_fuel_delivery_receipt_form" name="Fuel Delivery Receipt Record" parent="menu_aviation_station_operation" sequence="2" action="action_fuel_delivery_receipt_form" groups="kin_aviation.group_fuel_delivery_receipt" />



        <!-- Tank Storage Report -->
        <record id="view_kin_tank_storage_aviation_tree_report" model="ir.ui.view" >
            <field name="name" >kin.tank.storage.aviation.tree.report</field>
            <field name="model">kin.tank.storage.aviation</field>
            <field name="arch" type="xml" >
                <tree string="Stock Level Report" create="false" delete="false" edit="false" >
                     <field name="name"  />
                            <field name="aviation_station_id" />
                            <field name="product_id"  />
                            <field name="product_uom"  />
                            <field name="capacity" sum="Total"  />
                             <field name="available_space"  sum="Total" />
                             <field name="current_stock_received"   sum="Total"   />
                            <field name="current_int_transfer_in"  sum="Total"   />
                            <field name="current_int_transfer_out"   sum="Total"  />
                            <field name="stock_level"  sum="Total"   />
                            <field name="current_closing_stock"   sum="Total"   />
                </tree>
            </field>
        </record>


        <record id="action_kin_tank_storage_aviation_stock_level" model="ir.actions.act_window" >
            <field name="name" >Product Transfers / Stock Level Report</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.tank.storage.aviation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,pivot,</field>
        </record>

         <record id="action_kin_tank_storage_aviation_stock_level_tree" model="ir.actions.act_window.view">
            <field name="sequence">1</field>
            <field name="view_mode">tree</field>
             <field name="view_id" ref="view_kin_tank_storage_aviation_tree_report" />
            <field name="act_window_id" ref="action_kin_tank_storage_aviation_stock_level"/>
        </record>

        <menuitem id="menu_kin_tank_storage_aviation_stock_level_report" name="Stock Level Report" parent="menu_product_received_register_aviation" sequence="7" action="action_kin_tank_storage_aviation_stock_level"/>

<!-- Bowser Report -->
        <record id="view_kin_bowser_aviation_tree_report" model="ir.ui.view" >
            <field name="name" >kin.refueller.bowser.tree.report</field>
            <field name="model">kin.refueller.bowser</field>
            <field name="arch" type="xml" >
                <tree string="Bowser Level Report" create="false" delete="false" edit="false" >
                     <field name="name"  />
                            <field name="aviation_station_id" />
                            <field name="product_id"  />
                            <field name="product_uom"  />
                            <field name="capacity" sum="Total"  />
                             <field name="available_space"  sum="Total" />
                             <field name="current_stock_received"   sum="Total"   />
                            <field name="current_int_transfer_in"  sum="Total"   />
                            <field name="current_int_transfer_out"   sum="Total"  />
                    <field name="stock_level"  sum="Total"   />
                            <field name="current_closing_stock"   sum="Total"   />
                </tree>
            </field>
        </record>


        <record id="action_kin_bowser_aviation_stock_level" model="ir.actions.act_window" >
            <field name="name" >Product Transfers / Bowser(Refueller) Level Report</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.refueller.bowser</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,pivot</field>
        </record>

         <record id="action_kin_bowser_aviation_stock_level_tree" model="ir.actions.act_window.view">
            <field name="sequence">1</field>
            <field name="view_mode">tree</field>
             <field name="view_id" ref="view_kin_bowser_aviation_tree_report" />
            <field name="act_window_id" ref="action_kin_bowser_aviation_stock_level"/>
        </record>

        <menuitem id="menu_kin_bowser_aviation_stock_level_report" name="Bowser(Refueller) Level Report" parent="menu_product_received_register_aviation" sequence="8" action="action_kin_bowser_aviation_stock_level"/>


        <!-- Fuel Pump report -->
 <record id="view_kin_fuel_pump_aviation_report" model="ir.ui.view" >
            <field name="name" >kin.fuel.pump.aviation.tree.report</field>
            <field name="model">kin.fuel.pump.aviation</field>
            <field name="arch" type="xml" >
                <tree string="Fuel Pump Report" >
                     <field name="name"  />
                     <field name="tank_ids" />
                    <field name="aviation_station_id" />
                    <field name="totalizer"   />
                </tree>
            </field>
        </record>

        <record id="action_kin_fuel_pump_aviation_action_report" model="ir.actions.act_window" >
            <field name="name" >Report / Fuel Pump</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.fuel.pump.aviation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,pivot</field>
            <field name="search_view_id" ref="view_kin_fuel_pump_aviation_filter"/>
        </record>

          <record id="action_kin_fuel_pump_aviation_report" model="ir.actions.act_window.view">
            <field name="sequence">1</field>
            <field name="view_mode">tree</field>
             <field name="view_id" ref="view_kin_fuel_pump_aviation_report" />
            <field name="act_window_id" ref="action_kin_fuel_pump_aviation_action_report"/>
        </record>
        <menuitem id="menu_kin_fuel_pump_aviation_report" name="Fuel Pump" parent="menu_aviation_station_report" sequence="1" action="action_kin_fuel_pump_aviation_action_report"/>

    </data>
</openerp>
